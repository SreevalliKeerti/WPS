<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personal Info</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="css/style.css">
   <script>
    function tosubmit() {
            // Getting the value of your text input
            var fname = document.getElementById("fname").value;
            var lname = document.getElementById("lname").value;
            var dname = document.getElementById("dname").value;
            var mname = document.getElementById("mname").value;
            var email = document.getElementById("email").value;
            var phone = document.getElementById("phone").value;
            var dob = document.getElementById("dob").value;

            var sel = document.getElementById("gender");
            var opt = sel.options[sel.selectedIndex];
            var req = opt.value;
            // Storing the value above into localStorage
            localStorage.setItem("fname", fname);
            localStorage.setItem("lname", lname);
            localStorage.setItem("dname", dname);
            localStorage.setItem("mname", mname);
            localStorage.setItem("email", email);
            localStorage.setItem("phone", phone);
            localStorage.setItem("dob", dob);
            localStorage.setItem("req", req);
            return true;
        }
  </script>
</head>
<body>
  <div class="topnav" id="myTopnav">
  <a href="index.html">Home</a>
  <a href="personal.html" class="active">Personal Info</a>
  <a href="academic.html">Academic Info</a>
  <a href="proctor.html">Proctor Info</a>
  <a href="attendance.html">Attendance Info</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>
  <form id="regForm" action="displaypersonal.html" method="get" target="_self" onsubmit="tosubmit()" onreset="refresh()">
    
    <div class="tab"><h2>Personal Information:</h2>
      Name:
      <p><input type="text" placeholder="First name" oninput="this.className = ''" id="fname" name="fname"></p>
      <p><input type="text" placeholder="Last name" oninput="this.className = ''" id="lname" name="lname"></p>
      Father Name:
      <p><input type="text" placeholder="Father Name" oninput="this.className = ''" id="dname" name="dname"></p>
      Mother Name:
      <p><input type="text" placeholder="Mother Name" oninput="this.className = ''" id="mname" name="mname"></p>
      Contact Info:
      <p><input type="email" placeholder="E-mail" oninput="this.className = ''" id="email" name="email" required></p>
      <p><input type="number" placeholder="Phone Number" oninput="this.className = ''" id="phone" name="phone" onchange="validatenum()" required></p>
      Date of Birth:
      <p><input type="date" placeholder="dob" oninput="this.className = ''" id="dob" name="dob"></p>
      Gender:
      <p><select name="gender" id="gender" style="width: 20vw; height: 30px; box-shadow: 1px 1px #888888;">
        <option value="select">Select</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select></p>
    </div>
    <div style="overflow:auto;">
       <div style="float:left;">
        <input type="reset" id="reset">
      </div>
      <div style="float:right;">
        <button type="button" id="back"><a href="index.html">Home</a></button>
        <button type="button" id="submit" onclick="validateForm()">Check</button>
        <input type="submit" id="submitt">
      </div>
    </div>
    <!-- Circles which indicates the steps of the form: -->
  </form>

<script type="text/javascript" src="js/script.js"></script>
<script>
  const emailField = document.getElementById('email');
  const moveon = document.getElementById('submit');
  const phNo = document.getElementById('phone');

  emailField.addEventListener('change', function (event) {
    isValidEmail = emailField.checkValidity();
    
    if ( isValidEmail ) {
      moveon.disabled=false;
    } else {
      moveon.disabled=true;
      alert("Enter valid email address");
    }
  });

  function validatenum()
  {
    var phoneNumber = document.getElementById('phone').value;
    var phoneRGEX = /^[0-9]{10}$/;
    var phoneResult = phoneRGEX.test(phoneNumber);
    if(phoneResult){
       moveon.disabled=false;
    } else {
      moveon.disabled=true;
      alert("Enter valid phone number");
    }
  }
</script>

</body>
</html>
